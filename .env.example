# =============================================================================
# PFA VANGUARD - ENVIRONMENT VARIABLES
# =============================================================================
#
# SECURITY WARNING: This is an EXAMPLE file. Copy to .env and configure.
# NEVER commit .env files to version control!
#
# Setup Instructions:
# 1. Copy this file: cp .env.example .env
# 2. Generate secure passwords using: openssl rand -base64 32
# 3. Configure values below
# 4. Verify .env is in .gitignore
# =============================================================================

# -----------------------------------------------------------------------------
# ENVIRONMENT CONFIGURATION
# -----------------------------------------------------------------------------
NODE_ENV=development
# Options: development, staging, production

# Application
APP_NAME=PFA Vanguard
APP_VERSION=2.2.0
APP_PORT=3000
APP_HOST=localhost

# Backend API
API_PORT=3001
API_HOST=localhost
API_BASE_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION - DEVELOPMENT
# -----------------------------------------------------------------------------
# Local Docker PostgreSQL
POSTGRES_DB=pfa_vanguard_dev
POSTGRES_USER=pfa_admin
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Prisma Database URL (used by migrations and queries)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}?schema=public&sslmode=prefer

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=30000

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION - PRODUCTION
# -----------------------------------------------------------------------------
# Uncomment and configure for production deployment

# DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public&sslmode=require&sslcert=/path/to/client-cert.pem&sslkey=/path/to/client-key.pem&sslrootcert=/path/to/server-ca.pem

# Production Read Replica (optional)
# DATABASE_REPLICA_URL=postgresql://USER:PASSWORD@REPLICA_HOST:PORT/DATABASE?schema=public&sslmode=require

# AWS RDS Configuration (if using RDS)
# RDS_HOSTNAME=your-instance.region.rds.amazonaws.com
# RDS_PORT=5432
# RDS_DB_NAME=pfa_vanguard_prod
# RDS_USERNAME=pfa_admin
# RDS_PASSWORD=stored_in_secrets_manager
# DATABASE_URL=postgresql://${RDS_USERNAME}:${RDS_PASSWORD}@${RDS_HOSTNAME}:${RDS_PORT}/${RDS_DB_NAME}?schema=public&sslmode=require

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------

# JWT Configuration
JWT_SECRET=CHANGE_ME_TO_RANDOM_64_CHARACTER_STRING
# Generate with: openssl rand -base64 64
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=CHANGE_ME_TO_DIFFERENT_RANDOM_STRING
JWT_REFRESH_EXPIRES_IN=30d

# Password Hashing
BCRYPT_ROUNDS=10

# Session Security
SESSION_SECRET=CHANGE_ME_TO_RANDOM_STRING
SESSION_MAX_AGE=604800000
# 7 days in milliseconds

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
# Production: https://your-domain.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# AI PROVIDER API KEYS
# -----------------------------------------------------------------------------
# SECURITY: In production, use AWS Secrets Manager / Azure Key Vault

# Google Gemini
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-pro

# OpenAI (optional)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Claude (optional)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-opus-20240229

# AI Rate Limiting
AI_RATE_LIMIT_RPM=10
# Requests per minute per user
AI_RATE_LIMIT_TPM=40000
# Tokens per minute per organization

# -----------------------------------------------------------------------------
# PEMS INTEGRATION (HxGN EAM)
# -----------------------------------------------------------------------------
# Enterprise Asset Management System Integration

PEMS_BASE_URL=https://your-pems-instance.com
PEMS_API_VERSION=v1
PEMS_AUTH_TYPE=oauth2
# Options: basic, oauth2, api_key

# OAuth2 Configuration
PEMS_CLIENT_ID=your_client_id
PEMS_CLIENT_SECRET=stored_in_secrets_manager
PEMS_TOKEN_URL=https://your-pems-instance.com/oauth/token
PEMS_SCOPE=read:assets,write:pfa

# API Key Configuration (alternative)
# PEMS_API_KEY=your_api_key_here

# Sync Configuration
PEMS_SYNC_BATCH_SIZE=1000
PEMS_SYNC_PAGE_SIZE=10000
PEMS_SYNC_TIMEOUT=300000
# 5 minutes
PEMS_SYNC_RETRY_ATTEMPTS=3

# Default Organization for PEMS
PEMS_DEFAULT_ORG=BECH

# -----------------------------------------------------------------------------
# BACKUP CONFIGURATION
# -----------------------------------------------------------------------------

# Backup Schedule
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
# Cron format: Daily at 2 AM
BACKUP_RETENTION_DAYS=7

# Backup Storage (Local Development)
BACKUP_PATH=./database/backups

# Production Backup Storage (AWS S3)
# AWS_BACKUP_BUCKET=pfa-vanguard-backups
# AWS_BACKUP_REGION=us-east-1
# AWS_BACKUP_PREFIX=backups/production

# Production Backup Storage (Azure Blob)
# AZURE_STORAGE_ACCOUNT=pfavanguardbackups
# AZURE_STORAGE_CONTAINER=database-backups
# AZURE_STORAGE_CONNECTION_STRING=stored_in_secrets_manager

# -----------------------------------------------------------------------------
# LOGGING & MONITORING
# -----------------------------------------------------------------------------

# Logging Configuration
LOG_LEVEL=info
# Options: error, warn, info, debug, trace
LOG_FORMAT=json
# Options: json, pretty
LOG_FILE_PATH=./logs/application.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7

# Database Query Logging
DB_LOG_QUERIES=false
DB_LOG_SLOW_QUERIES=true
DB_SLOW_QUERY_THRESHOLD=1000
# Milliseconds

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Prometheus Push Gateway (optional)
# PROMETHEUS_PUSHGATEWAY_URL=http://localhost:9091

# Grafana Dashboard (optional)
# GRAFANA_URL=http://localhost:3002
# GRAFANA_API_KEY=stored_in_secrets_manager

# Alerting
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_FROM=alerts@pfa-vanguard.com
ALERT_EMAIL_TO=devops@your-company.com

# SMTP Configuration (for email alerts)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=stored_in_secrets_manager
# SMTP_SECURE=true

# -----------------------------------------------------------------------------
# SECRETS MANAGEMENT (PRODUCTION ONLY)
# -----------------------------------------------------------------------------

# AWS Secrets Manager
# AWS_REGION=us-east-1
# AWS_SECRETS_PREFIX=pfa-vanguard/production
# AWS_SECRET_NAME_DB_PASSWORD=database/master_password
# AWS_SECRET_NAME_JWT_SECRET=auth/jwt_secret
# AWS_SECRET_NAME_PEMS_CLIENT_SECRET=integrations/pems_client_secret
# AWS_SECRET_NAME_AI_KEYS=integrations/ai_provider_keys

# Azure Key Vault
# AZURE_KEYVAULT_NAME=pfa-vanguard-vault
# AZURE_TENANT_ID=your_tenant_id
# AZURE_CLIENT_ID=your_client_id
# AZURE_CLIENT_SECRET=stored_separately

# HashiCorp Vault
# VAULT_ADDR=https://vault.your-company.com:8200
# VAULT_TOKEN=stored_separately
# VAULT_NAMESPACE=pfa-vanguard

# -----------------------------------------------------------------------------
# PGADMIN (DEVELOPMENT ONLY)
# -----------------------------------------------------------------------------
PGADMIN_EMAIL=admin@pfa.local
PGADMIN_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
PGADMIN_PORT=5050

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
ENABLE_AI_ASSISTANT=true
ENABLE_PEMS_SYNC=true
ENABLE_VOICE_MODE=false
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_AUDIT_LOGGING=true

# -----------------------------------------------------------------------------
# CLOUDINARY (IF USING FILE UPLOADS)
# -----------------------------------------------------------------------------
# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=your_api_key
# CLOUDINARY_API_SECRET=stored_in_secrets_manager

# -----------------------------------------------------------------------------
# EMAIL SERVICE (RESEND)
# -----------------------------------------------------------------------------
# RESEND_API_KEY=stored_in_secrets_manager
# RESEND_FROM_EMAIL=noreply@pfa-vanguard.com

# -----------------------------------------------------------------------------
# NOTES
# -----------------------------------------------------------------------------
#
# Password Security:
# - Development: Use strong random passwords (min 32 chars)
# - Production: NEVER store passwords in .env files
# - Production: Use AWS Secrets Manager, Azure Key Vault, or HashiCorp Vault
#
# Secret Generation Commands:
# - Random password: openssl rand -base64 32
# - JWT secret: openssl rand -base64 64
# - Hex secret: openssl rand -hex 32
#
# Environment-Specific Files:
# - .env.development (development overrides)
# - .env.staging (staging environment)
# - .env.production (production - use secrets manager instead!)
#
# Verification:
# - Check .gitignore contains .env*
# - Never commit .env files
# - Use git secrets to prevent accidental commits
# - Rotate secrets regularly (90 days)
#
# =============================================================================
