# Database
DATABASE_URL="postgresql://user:password@localhost:5432/pfa_vanguard"
# For development, you can use SQLite instead:
# DATABASE_URL="file:./dev.db"

# JWT Secret (Generate with: openssl rand -base64 32)
JWT_SECRET="your-secret-key-here-change-in-production"
JWT_EXPIRES_IN="8h"

# Encryption Key for API credentials (Generate with: openssl rand -hex 32)
ENCRYPTION_KEY="your-32-byte-hex-encryption-key"

# Server Configuration
PORT=3001
NODE_ENV="development"
CORS_ORIGIN="http://localhost:3000"

# PEMS API Configuration (Read Operations)
PEMS_READ_ENDPOINT="https://us1.eam.hxgnsmartcloud.com:443/axis/restservices/griddata"
PEMS_READ_USERNAME="APIUSER"
PEMS_READ_PASSWORD="BEOSugarland2025!"
PEMS_READ_TENANT="BECHTEL_DEV"

# PEMS API Write Configuration
# NOTE: Write configuration is stored in the database (api_servers + api_endpoints tables)
# - Server: api_servers table (baseUrl, credentials, tenant)
# - Endpoint: api_endpoints table (path, screenName via customHeaders)
# Run: npm run prisma:seed to initialize PEMS configuration

# AI Provider API Keys (Optional - can be configured per organization)
GEMINI_API_KEY=""
OPENAI_API_KEY=""
ANTHROPIC_API_KEY=""
AZURE_OPENAI_KEY=""
AZURE_OPENAI_ENDPOINT=""

# Redis (Session management, caching, queues)
REDIS_URL="redis://:redis_dev_password@localhost:6379"
REDIS_PASSWORD="redis_dev_password"

# Logging
LOG_LEVEL="info"
LOG_FILE="logs/app.log"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=60

# Cron Jobs Configuration
ENABLE_CRON_JOBS=true

# Bronze Layer Pruning (ADR-007)
ENABLE_BRONZE_PRUNING=true
BRONZE_PRUNING_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BRONZE_RETENTION_DAYS=90
ENABLE_BRONZE_ARCHIVAL=false  # Set to true when archival destination is configured

# PEMS Write Sync Worker (ADR-008)
ENABLE_WRITE_SYNC=true
WRITE_SYNC_SCHEDULE="*/1 * * * *"  # Every 1 minute (cron format)
WRITE_SYNC_BATCH_SIZE=100
WRITE_SYNC_MAX_RETRIES=3
WRITE_SYNC_RETRY_DELAY=5000  # Initial retry delay in milliseconds (5s → 10s → 20s exponential backoff)

# PEMS API Rate Limiting
PEMS_API_RATE_LIMIT=10  # Maximum requests per second
