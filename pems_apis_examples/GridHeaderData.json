{
  "openapi": "3.0.1",
  "info": {
    "title": "Grid Webservice",
    "version": "1"
  },
  "servers": [
    {
      "url": "{eamhost}/axis/restservices",
      "description": "EAM Rest Service",
      "variables": {
        "eamhost": {
          "default": "https://us1.eam.hxgnsmartcloud.com:443",
          "description": "The EAM host on which the EAM instance is deployed"
        }
      }
    }
  ],
  "paths": {
      "/grids": {
         "post": {
            "summary": "Get Grid",
            "parameters": [
            {
              "name": "tenant",
              "in": "header",
              "required": true,
              "style": "simple",
              "explode": false,
              "schema": {
                 "type": "string",
                 "description": "EAM tenant"
              }
            },
            {
              "name": "role",
              "in": "header",
              "required": false,
              "style": "simple",
              "explode": false,
              "schema": {
                 "type": "string",
                 "description": "EAM user role"
              }
            },
            {
              "name": "organization",
              "in": "header",
              "required": true,
              "style": "simple",
              "explode": false,
              "schema": {
                 "type": "string",
                 "description": "EAM Organization"
              }
            },
            {
              "name": "apiversion",
              "in": "header",
              "required": false,
              "style": "simple",
              "explode": false,
              "schema": {
                 "type": "string",
                 "description": "API version"
              }
            },
            {
              "name": "sessionid",
              "in": "header",
              "required": false,
              "style": "simple",
              "explode": false,
              "schema": {
                 "type": "string",
                 "description": "sessionid"
              }
            },
            {
              "name": "keepsession",
              "in": "header",
              "required": false,
              "style": "simple",
              "explode": false,
              "schema": {
                 "type": "string",
                 "description": "keep session alive"
              }
            },
            {
              "name": "authenticationmode",
              "in": "header",
              "required": false,
              "style": "simple",
              "explode": false,
              "schema": {
                 "type": "string",
                 "description": "Authentication Mode"
              }
            }
            ],
            "requestBody": {
               "$ref": "#/components/requestBodies/GridHeaderData"
            },
            "responses": {
               "200": {
                  "description": "OK",
                  "content": {
                     "application/json": {
                         "schema": {
                            "$ref": "#/components/schemas/AddResponse"
                         }
                       }
                  }
               },
               "400": {
                  "description": "Bad Request. Request is not valid",
                  "content": {
                     "application/json": {
                         "schema": {
                            "$ref": "#/components/schemas/AddResponse"
                         }
                       }
                  }
               },
               "500": {
                  "description": "Internal Server Error"
                }
            }
         }
      }
  },
  "components": {
    "schemas": {
      "GridHeaderData": {
        "required": ["GRID","GRID_TYPE"], 
        "type": "object",
         "properties": {
            "GRID": {
               "$ref": "#/components/schemas/GRID"
            },
            "ADDON_SORT": {
               "$ref": "#/components/schemas/ADDON_SORT"
            },
            "ADDON_FILTER": {
               "$ref": "#/components/schemas/ADDON_FILTER"
            },
            "MULTIADDON_FILTERS": {
               "$ref": "#/components/schemas/MULTIADDON_FILTERS"
            },
            "GRID_TYPE": {
               "$ref": "#/components/schemas/GRID_TYPE"
            },
            "DATASPY": {
               "$ref": "#/components/schemas/DATASPY"
            },
            "LOV": {
               "$ref": "#/components/schemas/LOV"
            },
            "REQUEST_TYPE": {
               "type":"string","enum":["LIST.COUNT.STORED","LIST.DATA_ONLY.STORED","LOV.DATA_ONLY.STORED","LIST.DATA_ONLY.CACHE","LOV.DATA_ONLY.CACHE","LIST.HEAD_DATA.STORED","LIST.HEAD_ONLY.STORED","LOV.HEAD_DATA.STORED"]
            }
         }
      },
      "ADDON_FILTER": {
         "type": "object",
         "properties": {
            "ALIAS_NAME": {
               "type":"string"
            },
            "OPERATOR": {
               "type":"string"
            },
            "VALUE": {
               "type":"string"
            }
         }
      },
      "ADDON_SORT": {
         "type": "object",
         "properties": {
            "ALIAS_NAME": {
               "type":"string"
            },
            "TYPE": {
               "type":"string","enum":["ASC","DESC"]
            }
         }
      },
      "LOV": {
         "type": "object",
         "properties": {
            "LOV_PARAMETERS": {
               "$ref": "#/components/schemas/LOV_PARAMETERS"
            }
         }
      },
      "MULTIADDON_FILTERS": {
         "type": "object",
         "properties": {
            "MADDON_FILTER": {
               "type":"array",
               "items": {
                  "$ref": "#/components/schemas/MADDON_FILTER"
               }
            }
         }
      },
      "GRID": {
         "type": "object",
         "properties": {
            "GRID_NAME": {
               "type":"string"
            },
            "USER_FUNCTION_NAME": {
               "type":"string"
            },
            "GRID_ID": {
               "type":"number"
            },
            "NUMBER_OF_ROWS_FIRST_RETURNED": {
               "type":"number"
            },
            "CURSOR_POSITION": {
               "type":"number"
            },
            "CURRENT_TAB_NAME": {
               "type":"string"
            },
            "TAB_NAME": {
               "type":"string"
            },
            "RESULT_IN_SAXORDER": {
               "type":"string"
            },
            "TERSERESPONSE": {
               "type":"string"
            },
            "LOCALIZE_RESULT": {
               "type":"string"
            },
            "CUSTOM_FIELDS_CLASS_FILTER": {
               "type":"string"
            },
            "WSGRIDSZ_OVERRIDE": {
               "type":"number"
            }
         }
      },
      "MADDON_FILTER": {
         "type": "object",
         "properties": {
            "ALIAS_NAME": {
               "type":"string"
            },
            "OPERATOR": {
               "type":"string"
            },
            "VALUE": {
               "type":"string"
            },
            "RPAREN": {
               "type":"string"
            },
            "LPAREN": {
               "type":"string"
            },
            "JOINER": {
               "type":"string","enum":["AND","OR"]
            },
            "SEQNUM": {
               "type":"number"
            }
         }
      },
      "GRID_TYPE": {
         "type": "object",
         "properties": {
            "TYPE": {
               "type":"string","enum":["LIST","LOV"]
            }
         }
      },
      "LOV_PARAMETERS": {
         "type": "object",
         "properties": {
            "LOV_PARAMETER": {
               "type":"array",
               "items": {
                  "$ref": "#/components/schemas/LOV_PARAMETER"
               }
            }
         }
      },
      "LOV_PARAMETER": {
         "type": "object",
         "properties": {
            "ALIAS_NAME": {
               "type":"string"
            },
            "TYPE": {
               "type":"string"
            },
            "VALUE": {
               "type":"string"
            }
         }
      },
      "DATASPY": {
         "type": "object",
         "properties": {
            "DATASPY_ID": {
               "type":"number"
            }
         }
      },
      "DATARECORD": {
         "type": "object",
         "properties": {
            "DATAFIELD": {
               "type":"array",
               "items": {
                  "$ref": "#/components/schemas/DATAFIELD"
               }
            }
         }
      },
      "HASCREATEAUTH": {
         "type": "object",
         "properties": {
            "hasauth": {
               "type":"string"
            }
         }
      },
      "METADATA": {
         "type": "object",
         "properties": {
            "REQUEST_TYPE_META": {
               "type":"string"
            },
            "RECORDS": {
               "type":"string"
            },
            "BLACKLISTVIOLATIONS": {
               "type":"number"
            },
            "CLIENTROWS": {
               "type":"number"
            },
            "ISSYSTEMUSER": {
               "type":"string"
            },
            "ISR5USER": {
               "type":"boolean"
            },
            "CUSTOM_FIELD_ENTITY": {
               "type":"string"
            },
            "PORTLETROWS": {
               "type":"number"
            },
            "SERVERTIMESTAMP": {
               "type":"number"
            },
            "MULTIORGCOLUMN": {
               "type":"string"
            },
            "PORTLETFLAG": {
               "type":"string"
            },
            "HASCREATEAUTH": {
               "$ref": "#/components/schemas/HASCREATEAUTH"
            },
            "EDITABLE": {
               "type":"string"
            },
            "GRIDID": {
               "type":"number"
            },
            "GRIDNAME": {
               "type":"string"
            },
            "GRIDTYPE": {
               "type":"number"
            },
            "DATASPYID": {
               "type":"number"
            },
            "GLOBALDATASPY": {
               "type":"boolean"
            },
            "DATASPYHIDDEN": {
               "type":"boolean"
            },
            "ALLOWEDITGLOBALDATASPY": {
               "type":"boolean"
            },
            "DSUPDATECOUNT": {
               "type":"number"
            },
            "MULTIORG": {
               "type":"string"
            },
            "ISTAB": {
               "type":"string"
            },
            "EDITDATASPY": {
               "type":"string"
            }
         }
      },
      "DATAFIELD": {
         "type": "object",
         "properties": {
            "FIELDNAME": {
               "type":"string"
            },
            "FIELDLABEL": {
               "type":"string"
            },
            "DATATYPE": {
               "type":"string","enum":["VARCHAR","MIXVARCHAR","NUMBER","CONTAINS","LONG","CURRENCY","DECIMAL","DURATION","DATE","DATETIME","CHKBOOLEAN","TSMIDNIGHT","DEPENDENT","CLOB"]
            },
            "FIELDVALUE": {
               "type":"string"
            },
            "ISKEYFIELD": {
               "type":"boolean"
            }
         }
      },
      "ALERT_Type": {
        "type": "object",
         "properties": {
            "Message": {
               "type":"string"
            },
            "Name": {
               "type":"string"
            }
         }
      },
      "AddResponse": {
        "type": "object",
         "properties": {
            "Result": {
               "$ref": "#/components/schemas/AddResult"
            },
            "ConfirmationAlert": {
               "$ref": "#/components/schemas/ALERT_Type"
            },
            "ErrorAlert": {
               "type":"array",
               "items": {
                  "$ref": "#/components/schemas/ALERT_Type"
                } 
            }
         }
      },
      "AddResult": {
         "type": "object",
         "properties": {
            "SessionID": {
               "type":"string"
            },
            "ResultData": {
               "$ref": "#/components/schemas/AddResultData"
            },
            "InfoAlert": {
               "$ref": "#/components/schemas/ALERT_Type"
            },
            "WarningAlert": {
               "type":"array",
               "items": {
                  "$ref": "#/components/schemas/ALERT_Type"
               }
            }
         }
      },
      "AddResultData": {
        "type": "object",
         "properties": {
            "DATAENTITYNAME": {
               "type":"string"
            },
            "CURRENTCURSORPOSITION": {
               "type":"number"
            },
            "NEXTCURSORPOSITION": {
               "type":"number"
            },
            "METADATA": {
               "$ref": "#/components/schemas/METADATA"
            },
            "DATARECORD": {
               "type":"array",
               "items": {
                  "$ref": "#/components/schemas/DATARECORD"
                } 
            }
         }
      }
    },
    "requestBodies": {
      "GridHeaderData": {
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/GridHeaderData"
             }
           }
        },
        "required": true
      }
    },
    "securitySchemes": {
      "basicAuth": {
         "type": "http",
         "scheme": "basic"
      },
      "apiKey": {
         "type": "apiKey",
         "in": "header",
         "name": "X-API-Key"
      },
      "bearerAuth": {
         "type": "http",
         "scheme": "bearer",
         "bearerFormat": "JWT"
      }
    }
  },
  "security": [
    {
      "basicAuth": [] 
    },
    {
      "apiKey": [] 
    },
    {
      "bearerAuth": [] 
    }
  ]
}
